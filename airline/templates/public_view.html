<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Scroll Website</title>
        <link rel="stylesheet" href="../static/public_view.css" />
        <!-- <link
        rel="stylesheet"
        href="https://use.fontawesome.com/releases/v5.14.0/css/all.css"
        integrity="sha384-HzLeBuhoNPvSl5KYnjx0BT+WB0QEEqLprO+NBkkk5gbc67FTaL7XIGa2w1L0Xbgc"
        crossorigin="anonymous"
        /> -->
    </head>


    <body>
    
    <!-- Tab links -->
    <div class="tab">
        <button class="tablinks" onclick="openSearch(event, 'Search_Flight')">Search Flight</button>
        <button class="tablinks" onclick="openSearch(event, 'Check_Status')">Check Status</button>
    </div>
    
    <!-- Tab content -->
    <div id="Search_Flight" class="tabcontent">
        <form action="/SearchFlight" id="searchForm" autocomplete="off" method="POST">
            <!-- <input type="text" name = "depart" placeholder="depart city or airport" required/> </br>
            <input type="text" name = "arrive" placeholder="arrive city or airport" required/> </br>
            <input type="text" name = "date" placeholder="date" required/> </br>
            <input type="submit" value = Search> -->
            <div id="depart_info">
                
                <input type="text", list="source" name = "depart" placeholder="depart city or airport" required/> </br>
                <datalist id="source">
                    {% for line in airport_city %}
                        <option value="{{line}}">
                    {% endfor %}
                </datalist>
                <label>depart city/airport</label>
            </div>
            
            <input type="text", list="destination" name = "arrive" placeholder="arrive city or airport" required/> </br>
            <datalist id="destination">
                {% for line in airport_city %}
                    <option value="{{line}}">
                {% endfor %}
            </datalist>
            <input type="date" name = "date" placeholder="date" id = "date" required/> </br>
            <input type="submit" value = Search>
        </form>
    </div>

    </body>>

    <script type="text/javascript">
        var flight_list, airports_and_city, today;
        today = new Date().toISOString().substr(0, 10);
        console.log(today);
        document.querySelector("#date").value = today;

        flight_list = {{flights | safe}};
        airports_and_city = {{airport_city | safe}};
        for (var i in airports_and_city) {
            console.log(airports_and_city[i]);
        }
        function openSearch(evt, searchbar) {
              // Declare all variables
              var i, tabcontent, tablinks;


              // Get all elements with class="tabcontent" and hide them
              tabcontent = document.getElementsByClassName("tabcontent");
              for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].style.display = "none";
              }

              // Get all elements with class="tablinks" and remove the class "active"
              tablinks = document.getElementsByClassName("tablinks");
              for (i = 0; i < tablinks.length; i++) {
                tablinks[i].className = tablinks[i].className.replace(" active", "");
              }

              // Show the current tab, and add an "active" class to the button that opened the tab
              document.getElementById(searchbar).style.display = "block";
              evt.currentTarget.className += " active";
        }
    </script>
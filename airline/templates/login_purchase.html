<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>B-Airline Customer Login</title>
	<link rel="stylesheet" href="{{ url_for('static', filename='/public_view.css') }}" />
</head>
<body>

    <nav class="navbar">
		<div class="navbar__container">
		  <a href="/SearchFlight" id="navbar__logo">B-AIR</a>
		  <div class="navbar__toggle" id="mobile-menu">
			<span class="bar"></span> <span class="bar"></span>
			<span class="bar"></span>
		  </div>
		  <ul class="navbar__menu">
			<li class="navbar__btn">
				<a href="/SearchFlight" class="button" id="sign-up">Back to Public View</a>
			</li>
		  </ul>
		</div>
	</nav>



    <div class="search-container" id="search-container">
        <form action="/purchase/login/{{airline_name}}/{{flight_num}}" onsubmit="return formValidation()" autocomplete="off" method="POST">
            <label id="navbar__logo">Login to purchase a ticket, customer!</label>
            <label class="label"> </label> </br>
            <label class="label">Email</label> </br>
            <input type="text" name = "username" placeholder="email" required/> </br>
            <label class="label">Password</label> </br>
            <input type="text" name = "password" placeholder="password" required/> </br>
            <label class="label"> </label> </br>
            <input type="submit" value = Login>
			<label class="label"> </label> </br>
        </form>
    </div>

	{% if error %}
				<div class="topbutton">
					<div class='warning'>
						{{error}}
					</div>
				</div>
            {% endif %}
</body>
<script type="text/javascript">
	function formValidation() {
		const re = /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
		var form_usn = document.getElementsByName("username")[0].value;

		if (!re.test(form_usn.toLowerCase())) {
            alert("Email format is wrong! Please try again");
            return false;
        }
		return true;
	}

</script>

</html>